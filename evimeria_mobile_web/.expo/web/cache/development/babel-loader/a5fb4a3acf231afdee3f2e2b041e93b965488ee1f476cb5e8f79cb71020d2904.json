{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"D:\\\\Projects\\\\Evimeria_System\\\\evimeria_mobile_web\\\\src\\\\screens\\\\Auth\\\\MFAScreen.js\";\nimport React, { useState } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport { Text, TextInput, Button, Surface } from 'react-native-paper';\nimport { useAuth } from '../../context/AuthContext';\nimport { theme, spacing, borderRadius } from '../../theme';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function MFAScreen(_ref) {\n  var route = _ref.route,\n    navigation = _ref.navigation;\n  var email = route.params.email;\n  var _useState = useState(''),\n    _useState2 = _slicedToArray(_useState, 2),\n    code = _useState2[0],\n    setCode = _useState2[1];\n  var _useState3 = useState(false),\n    _useState4 = _slicedToArray(_useState3, 2),\n    loading = _useState4[0],\n    setLoading = _useState4[1];\n  var _useAuth = useAuth(),\n    verifyMFA = _useAuth.verifyMFA;\n  var handleVerify = function () {\n    var _ref2 = _asyncToGenerator(function* () {\n      if (!code || code.length !== 6) {\n        Alert.alert('Error', 'Please enter a valid 6-digit code');\n        return;\n      }\n      setLoading(true);\n      try {\n        yield verifyMFA(email, code);\n      } catch (error) {\n        var _error$response, _error$response$data;\n        Alert.alert('Verification Failed', ((_error$response = error.response) == null ? void 0 : (_error$response$data = _error$response.data) == null ? void 0 : _error$response$data.message) || 'Invalid code');\n      } finally {\n        setLoading(false);\n      }\n    });\n    return function handleVerify() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  return _jsxDEV(View, {\n    style: styles.container,\n    children: _jsxDEV(Surface, {\n      style: styles.card,\n      elevation: 2,\n      children: [_jsxDEV(Text, {\n        style: styles.title,\n        children: \"Two-Factor Authentication\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 9\n      }, this), _jsxDEV(Text, {\n        style: styles.subtitle,\n        children: \"Enter the 6-digit code from your authenticator app\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 9\n      }, this), _jsxDEV(TextInput, {\n        label: \"Verification Code\",\n        value: code,\n        onChangeText: setCode,\n        mode: \"outlined\",\n        keyboardType: \"number-pad\",\n        maxLength: 6,\n        style: styles.input\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 9\n      }, this), _jsxDEV(Button, {\n        mode: \"contained\",\n        onPress: handleVerify,\n        loading: loading,\n        disabled: loading,\n        style: styles.button,\n        contentStyle: styles.buttonContent,\n        children: \"Verify\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }, this), _jsxDEV(Button, {\n        mode: \"text\",\n        onPress: function onPress() {\n          return navigation.goBack();\n        },\n        style: styles.backButton,\n        children: \"Back to Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 30,\n    columnNumber: 5\n  }, this);\n}\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: theme.colors.background,\n    justifyContent: 'center',\n    padding: spacing.lg\n  },\n  card: {\n    padding: spacing.lg,\n    borderRadius: 12\n  },\n  title: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    color: theme.colors.text,\n    marginBottom: spacing.xs\n  },\n  subtitle: {\n    fontSize: 14,\n    color: theme.colors.textSecondary,\n    marginBottom: spacing.lg\n  },\n  input: {\n    marginBottom: spacing.md\n  },\n  button: {\n    marginTop: spacing.md\n  },\n  buttonContent: {\n    paddingVertical: spacing.sm\n  },\n  backButton: {\n    marginTop: spacing.md\n  }\n});","map":{"version":3,"names":["React","useState","View","StyleSheet","Alert","Text","TextInput","Button","Surface","useAuth","theme","spacing","borderRadius","jsxDEV","_jsxDEV","MFAScreen","_ref","route","navigation","email","params","_useState","_useState2","_slicedToArray","code","setCode","_useState3","_useState4","loading","setLoading","_useAuth","verifyMFA","handleVerify","_ref2","_asyncToGenerator","length","alert","error","_error$response","_error$response$data","response","data","message","apply","arguments","style","styles","container","children","card","elevation","title","fileName","_jsxFileName","lineNumber","columnNumber","subtitle","label","value","onChangeText","mode","keyboardType","maxLength","input","onPress","disabled","button","contentStyle","buttonContent","goBack","backButton","create","flex","backgroundColor","colors","background","justifyContent","padding","lg","fontSize","fontWeight","color","text","marginBottom","xs","textSecondary","md","marginTop","paddingVertical","sm"],"sources":["D:/Projects/Evimeria_System/evimeria_mobile_web/src/screens/Auth/MFAScreen.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { View, StyleSheet, Alert } from 'react-native';\r\nimport { Text, TextInput, Button, Surface } from 'react-native-paper';\r\nimport { useAuth } from '../../context/AuthContext';\r\nimport { theme, spacing, borderRadius } from '../../theme';\r\n\r\nexport default function MFAScreen({ route, navigation }) {\r\n  const { email } = route.params;\r\n  const [code, setCode] = useState('');\r\n  const [loading, setLoading] = useState(false);\r\n  const { verifyMFA } = useAuth();\r\n\r\n  const handleVerify = async () => {\r\n    if (!code || code.length !== 6) {\r\n      Alert.alert('Error', 'Please enter a valid 6-digit code');\r\n      return;\r\n    }\r\n\r\n    setLoading(true);\r\n    try {\r\n      await verifyMFA(email, code);\r\n    } catch (error) {\r\n      Alert.alert('Verification Failed', error.response?.data?.message || 'Invalid code');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <View style={styles.container}>\r\n      <Surface style={styles.card} elevation={2}>\r\n        <Text style={styles.title}>Two-Factor Authentication</Text>\r\n        <Text style={styles.subtitle}>\r\n          Enter the 6-digit code from your authenticator app\r\n        </Text>\r\n\r\n        <TextInput\r\n          label=\"Verification Code\"\r\n          value={code}\r\n          onChangeText={setCode}\r\n          mode=\"outlined\"\r\n          keyboardType=\"number-pad\"\r\n          maxLength={6}\r\n          style={styles.input}\r\n        />\r\n\r\n        <Button\r\n          mode=\"contained\"\r\n          onPress={handleVerify}\r\n          loading={loading}\r\n          disabled={loading}\r\n          style={styles.button}\r\n          contentStyle={styles.buttonContent}\r\n        >\r\n          Verify\r\n        </Button>\r\n\r\n        <Button\r\n          mode=\"text\"\r\n          onPress={() => navigation.goBack()}\r\n          style={styles.backButton}\r\n        >\r\n          Back to Login\r\n        </Button>\r\n      </Surface>\r\n    </View>\r\n  );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    backgroundColor: theme.colors.background,\r\n    justifyContent: 'center',\r\n    padding: spacing.lg,\r\n  },\r\n  card: {\r\n    padding: spacing.lg,\r\n    borderRadius: 12,\r\n  },\r\n  title: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    color: theme.colors.text,\r\n    marginBottom: spacing.xs,\r\n  },\r\n  subtitle: {\r\n    fontSize: 14,\r\n    color: theme.colors.textSecondary,\r\n    marginBottom: spacing.lg,\r\n  },\r\n  input: {\r\n    marginBottom: spacing.md,\r\n  },\r\n  button: {\r\n    marginTop: spacing.md,\r\n  },\r\n  buttonContent: {\r\n    paddingVertical: spacing.sm,\r\n  },\r\n  backButton: {\r\n    marginTop: spacing.md,\r\n  },\r\n});\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}